[build]
  command = "npm run build"
  publish = "dist"

# Configuração de secrets scanning
# As variáveis VITE_* são públicas e seguras por design no Vite
[build]
  command = "npm run build"
  publish = "dist"
  functions = "functions"

# Omitir false positives do secrets scanning
# Essas são variáveis de ambiente pública do Vite (prefixo VITE_) e devem estar expostas no bundle
[[env]]
  variable = "SECRETS_SCAN_OMIT_KEYS"
  value = "VITE_SUPABASE_ANON_KEY,VITE_SUPABASE_URL,VITE_VAPID_PUBLIC_KEY"

# Headers de segurança
[[headers]]
  for = "/*"
  [headers.values]
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "SAMEORIGIN"
    X-XSS-Protection = "1; mode=block"
